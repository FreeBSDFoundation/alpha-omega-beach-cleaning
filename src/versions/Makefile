TARGETS	= $(OBJDIR)bsddialog$(EXEEXT) $(OBJDIR)byacc$(EXEEXT) $(OBJDIR)bzip2$(EXEEXT) $(OBJDIR)dtc$(EXEEXT) $(OBJDIR)file$(EXEEXT) $(OBJDIR)flex$(EXEEXT) $(OBJDIR)heimdal$(EXEEXT) $(OBJDIR)less$(EXEEXT) $(OBJDIR)libarchive$(EXEEXT) $(OBJDIR)libcbor$(EXEEXT) $(OBJDIR)libdialog$(EXEEXT) $(OBJDIR)libedit$(EXEEXT) $(OBJDIR)libevent$(EXEEXT) $(OBJDIR)liblzma$(EXEEXT) $(OBJDIR)libpcap$(EXEEXT) $(OBJDIR)libxo$(EXEEXT) $(OBJDIR)ncurses$(EXEEXT) $(OBJDIR)openssl$(EXEEXT) $(OBJDIR)patch$(EXEEXT) $(OBJDIR)sqlite$(EXEEXT) $(OBJDIR)tcpdump$(EXEEXT) $(OBJDIR)versions.yml $(OBJDIR)zlib$(EXEEXT)
OBJDIR	=
PREFIX	= /usr/local
DESTDIR	=
BINDIR	= $(PREFIX)/bin
SBINDIR	= $(PREFIX)/sbin
CC	= cc
CPPFLAGSF=
CPPFLAGS=
CFLAGSF	=
CFLAGS	= -W -Wall -g -O2 -fstack-protector
LDFLAGS	= -Wl,-z,relro -Wl,-z,now
EXEEXT	=
RM	= rm -f
LN	= ln -f
MKDIR	= mkdir -m 0755 -p
INSTALL	= install


all: $(OBJDIR)bsddialog$(EXEEXT) $(OBJDIR)byacc$(EXEEXT) $(OBJDIR)bzip2$(EXEEXT) $(OBJDIR)dtc$(EXEEXT) $(OBJDIR)file$(EXEEXT) $(OBJDIR)flex$(EXEEXT) $(OBJDIR)heimdal$(EXEEXT) $(OBJDIR)less$(EXEEXT) $(OBJDIR)libarchive$(EXEEXT) $(OBJDIR)libedit$(EXEEXT) $(OBJDIR)libevent$(EXEEXT) $(OBJDIR)liblzma$(EXEEXT) $(OBJDIR)libpcap$(EXEEXT) $(OBJDIR)libxo$(EXEEXT) $(OBJDIR)ncurses$(EXEEXT) $(OBJDIR)openssl$(EXEEXT) $(OBJDIR)patch$(EXEEXT) $(OBJDIR)sqlite$(EXEEXT) $(OBJDIR)tcpdump$(EXEEXT) $(OBJDIR)zlib$(EXEEXT)

bsddialog_OBJS = $(OBJDIR)bsddialog.o
bsddialog_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS) -isystem /usr/include/private/bsddialog
bsddialog_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)bsddialog$(EXEEXT): $(bsddialog_OBJS)
	$(CC) -o $(OBJDIR)bsddialog$(EXEEXT) $(bsddialog_OBJS) $(bsddialog_LDFLAGS)

byacc_OBJS = $(OBJDIR)byacc.o
byacc_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
byacc_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)byacc$(EXEEXT): $(byacc_OBJS)
	$(CC) -o $(OBJDIR)byacc$(EXEEXT) $(byacc_OBJS) $(byacc_LDFLAGS)

bzip2_OBJS = $(OBJDIR)bzip2.o
bzip2_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
bzip2_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)bzip2$(EXEEXT): $(bzip2_OBJS)
	$(CC) -o $(OBJDIR)bzip2$(EXEEXT) $(bzip2_OBJS) $(bzip2_LDFLAGS)

dtc_OBJS = $(OBJDIR)dtc.o
dtc_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
dtc_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)dtc$(EXEEXT): $(dtc_OBJS)
	$(CC) -o $(OBJDIR)dtc$(EXEEXT) $(dtc_OBJS) $(dtc_LDFLAGS)

file_OBJS = $(OBJDIR)file.o
file_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
file_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)file$(EXEEXT): $(file_OBJS)
	$(CC) -o $(OBJDIR)file$(EXEEXT) $(file_OBJS) $(file_LDFLAGS)

flex_OBJS = $(OBJDIR)flex.o
flex_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
flex_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)flex$(EXEEXT): $(flex_OBJS)
	$(CC) -o $(OBJDIR)flex$(EXEEXT) $(flex_OBJS) $(flex_LDFLAGS)

heimdal_OBJS = $(OBJDIR)heimdal.o
heimdal_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
heimdal_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)heimdal$(EXEEXT): $(heimdal_OBJS)
	$(CC) -o $(OBJDIR)heimdal$(EXEEXT) $(heimdal_OBJS) $(heimdal_LDFLAGS)

less_OBJS = $(OBJDIR)less.o
less_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
less_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)less$(EXEEXT): $(less_OBJS)
	$(CC) -o $(OBJDIR)less$(EXEEXT) $(less_OBJS) $(less_LDFLAGS)

libarchive_OBJS = $(OBJDIR)libarchive.o
libarchive_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
libarchive_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)libarchive$(EXEEXT): $(libarchive_OBJS)
	$(CC) -o $(OBJDIR)libarchive$(EXEEXT) $(libarchive_OBJS) $(libarchive_LDFLAGS)

libcbor_OBJS = $(OBJDIR)libcbor.o
libcbor_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
libcbor_LDFLAGS = $(LDFLAGSF) $(LDFLAGS) -lprivatecbor

$(OBJDIR)libcbor$(EXEEXT): $(libcbor_OBJS)
	$(CC) -o $(OBJDIR)libcbor$(EXEEXT) $(libcbor_OBJS) $(libcbor_LDFLAGS)

libdialog_OBJS = $(OBJDIR)libdialog.o
libdialog_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
libdialog_LDFLAGS = $(LDFLAGSF) $(LDFLAGS) -ldialog

$(OBJDIR)libdialog$(EXEEXT): $(libdialog_OBJS)
	$(CC) -o $(OBJDIR)libdialog$(EXEEXT) $(libdialog_OBJS) $(libdialog_LDFLAGS)

libedit_OBJS = $(OBJDIR)libedit.o
libedit_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
libedit_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)libedit$(EXEEXT): $(libedit_OBJS)
	$(CC) -o $(OBJDIR)libedit$(EXEEXT) $(libedit_OBJS) $(libedit_LDFLAGS)

libevent_OBJS = $(OBJDIR)libevent.o
libevent_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS) -isystem /usr/include/private/event1
libevent_LDFLAGS = $(LDFLAGSF) $(LDFLAGS) -lprivateevent1

$(OBJDIR)libevent$(EXEEXT): $(libevent_OBJS)
	$(CC) -o $(OBJDIR)libevent$(EXEEXT) $(libevent_OBJS) $(libevent_LDFLAGS)

liblzma_OBJS = $(OBJDIR)liblzma.o
liblzma_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
liblzma_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)liblzma$(EXEEXT): $(liblzma_OBJS)
	$(CC) -o $(OBJDIR)liblzma$(EXEEXT) $(liblzma_OBJS) $(liblzma_LDFLAGS)

libpcap_OBJS = $(OBJDIR)libpcap.o
libpcap_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
libpcap_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)libpcap$(EXEEXT): $(libpcap_OBJS)
	$(CC) -o $(OBJDIR)libpcap$(EXEEXT) $(libpcap_OBJS) $(libpcap_LDFLAGS)

libxo_OBJS = $(OBJDIR)libxo.o
libxo_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
libxo_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)libxo$(EXEEXT): $(libxo_OBJS)
	$(CC) -o $(OBJDIR)libxo$(EXEEXT) $(libxo_OBJS) $(libxo_LDFLAGS)

ncurses_OBJS = $(OBJDIR)ncurses.o
ncurses_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
ncurses_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)ncurses$(EXEEXT): $(ncurses_OBJS)
	$(CC) -o $(OBJDIR)ncurses$(EXEEXT) $(ncurses_OBJS) $(ncurses_LDFLAGS)

openssl_OBJS = $(OBJDIR)openssl.o
openssl_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
openssl_LDFLAGS = $(LDFLAGSF) $(LDFLAGS) -lcrypto

$(OBJDIR)openssl$(EXEEXT): $(openssl_OBJS)
	$(CC) -o $(OBJDIR)openssl$(EXEEXT) $(openssl_OBJS) $(openssl_LDFLAGS)

patch_OBJS = $(OBJDIR)patch.o
patch_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
patch_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)patch$(EXEEXT): $(patch_OBJS)
	$(CC) -o $(OBJDIR)patch$(EXEEXT) $(patch_OBJS) $(patch_LDFLAGS)

sqlite_OBJS = $(OBJDIR)sqlite.o
sqlite_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS) -isystem /usr/include/private/sqlite3
sqlite_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)sqlite$(EXEEXT): $(sqlite_OBJS)
	$(CC) -o $(OBJDIR)sqlite$(EXEEXT) $(sqlite_OBJS) $(sqlite_LDFLAGS)

tcpdump_OBJS = $(OBJDIR)tcpdump.o
tcpdump_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
tcpdump_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)tcpdump$(EXEEXT): $(tcpdump_OBJS)
	$(CC) -o $(OBJDIR)tcpdump$(EXEEXT) $(tcpdump_OBJS) $(tcpdump_LDFLAGS)

$(OBJDIR)versions.yml: all
	(./bsddialog; ./byacc; ./bzip2; ./dtc; ./file; ./flex; ./heimdal; ./less; ./libarchive; ./libedit; ./libevent; ./liblzma; ./libpcap; ./libxo; ./ncurses; ./openssl; ./patch; ./tcpdump; ./zlib) > versions.yml

zlib_OBJS = $(OBJDIR)zlib.o
zlib_CFLAGS = $(CPPFLAGSF) $(CPPFLAGS) $(CFLAGSF) $(CFLAGS)
zlib_LDFLAGS = $(LDFLAGSF) $(LDFLAGS)

$(OBJDIR)zlib$(EXEEXT): $(zlib_OBJS)
	$(CC) -o $(OBJDIR)zlib$(EXEEXT) $(zlib_OBJS) $(zlib_LDFLAGS)

$(OBJDIR)bsddialog.o: bsddialog.c
	$(CC) $(bsddialog_CFLAGS) -o $(OBJDIR)bsddialog.o -c bsddialog.c

$(OBJDIR)byacc.o: byacc.c
	$(CC) $(byacc_CFLAGS) -o $(OBJDIR)byacc.o -c byacc.c

$(OBJDIR)bzip2.o: bzip2.c
	$(CC) $(bzip2_CFLAGS) -o $(OBJDIR)bzip2.o -c bzip2.c

$(OBJDIR)dtc.o: dtc.c
	$(CC) $(dtc_CFLAGS) -o $(OBJDIR)dtc.o -c dtc.c

$(OBJDIR)file.o: file.c
	$(CC) $(file_CFLAGS) -o $(OBJDIR)file.o -c file.c

$(OBJDIR)flex.o: flex.c
	$(CC) $(flex_CFLAGS) -o $(OBJDIR)flex.o -c flex.c

$(OBJDIR)heimdal.o: heimdal.c
	$(CC) $(heimdal_CFLAGS) -o $(OBJDIR)heimdal.o -c heimdal.c

$(OBJDIR)less.o: less.c
	$(CC) $(less_CFLAGS) -o $(OBJDIR)less.o -c less.c

$(OBJDIR)libarchive.o: libarchive.c
	$(CC) $(libarchive_CFLAGS) -o $(OBJDIR)libarchive.o -c libarchive.c

$(OBJDIR)libcbor.o: libcbor.c
	$(CC) $(libcbor_CFLAGS) -o $(OBJDIR)libcbor.o -c libcbor.c

$(OBJDIR)libdialog.o: libdialog.c
	$(CC) $(libdialog_CFLAGS) -o $(OBJDIR)libdialog.o -c libdialog.c

$(OBJDIR)libedit.o: libedit.c
	$(CC) $(libedit_CFLAGS) -o $(OBJDIR)libedit.o -c libedit.c

$(OBJDIR)libevent.o: libevent.c
	$(CC) $(libevent_CFLAGS) -o $(OBJDIR)libevent.o -c libevent.c

$(OBJDIR)liblzma.o: liblzma.c
	$(CC) $(liblzma_CFLAGS) -o $(OBJDIR)liblzma.o -c liblzma.c

$(OBJDIR)libpcap.o: libpcap.c
	$(CC) $(libpcap_CFLAGS) -o $(OBJDIR)libpcap.o -c libpcap.c

$(OBJDIR)libxo.o: libxo.c
	$(CC) $(libxo_CFLAGS) -o $(OBJDIR)libxo.o -c libxo.c

$(OBJDIR)ncurses.o: ncurses.c
	$(CC) $(ncurses_CFLAGS) -o $(OBJDIR)ncurses.o -c ncurses.c

$(OBJDIR)openssl.o: openssl.c
	$(CC) $(openssl_CFLAGS) -o $(OBJDIR)openssl.o -c openssl.c

$(OBJDIR)patch.o: patch.c
	$(CC) $(patch_CFLAGS) -o $(OBJDIR)patch.o -c patch.c

$(OBJDIR)sqlite.o: sqlite.c
	$(CC) $(sqlite_CFLAGS) -o $(OBJDIR)sqlite.o -c sqlite.c

$(OBJDIR)tcpdump.o: tcpdump.c
	$(CC) $(tcpdump_CFLAGS) -o $(OBJDIR)tcpdump.o -c tcpdump.c

$(OBJDIR)zlib.o: zlib.c
	$(CC) $(zlib_CFLAGS) -o $(OBJDIR)zlib.o -c zlib.c

clean:
	$(RM) -- $(bsddialog_OBJS) $(byacc_OBJS) $(bzip2_OBJS) $(dtc_OBJS) $(file_OBJS) $(flex_OBJS) $(heimdal_OBJS) $(less_OBJS) $(libarchive_OBJS) $(libcbor_OBJS) $(libdialog_OBJS) $(libedit_OBJS) $(libevent_OBJS) $(liblzma_OBJS) $(libpcap_OBJS) $(libxo_OBJS) $(ncurses_OBJS) $(openssl_OBJS) $(patch_OBJS) $(sqlite_OBJS) $(tcpdump_OBJS) $(zlib_OBJS)

distclean: clean
	$(RM) -- $(TARGETS)

install: all

uninstall:

.PHONY: all clean distclean install uninstall
